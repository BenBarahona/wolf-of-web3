# Bridge Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER INTERFACE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  /bridge                          /dashboard                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ BridgeInterface     â”‚         â”‚ MultiChainPortfolio  â”‚              â”‚
â”‚  â”‚                     â”‚         â”‚                      â”‚              â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚              â”‚
â”‚  â”‚ â”‚ Source Chain    â”‚ â”‚         â”‚ â”‚ Arc Vault        â”‚ â”‚              â”‚
â”‚  â”‚ â”‚ Arc (Low Risk)  â”‚ â”‚         â”‚ â”‚ Balance: 100 USD â”‚ â”‚              â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â”‚ Risk: Low   âœ“    â”‚ â”‚              â”‚
â”‚  â”‚         â†“           â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚              â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚                      â”‚              â”‚
â”‚  â”‚ â”‚ Dest Chain      â”‚ â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚              â”‚
â”‚  â”‚ â”‚ World (High)    â”‚ â”‚         â”‚ â”‚ Celo Vault       â”‚ â”‚              â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â”‚ Balance: 50 USD  â”‚ â”‚              â”‚
â”‚  â”‚         â†“           â”‚         â”‚ â”‚ Risk: Medium âœ“   â”‚ â”‚              â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚              â”‚
â”‚  â”‚ â”‚ Amount: 100 USD â”‚ â”‚         â”‚                      â”‚              â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚              â”‚
â”‚  â”‚         â†“           â”‚         â”‚ â”‚ World Vault      â”‚ â”‚              â”‚
â”‚  â”‚   [Bridge USDC]     â”‚         â”‚ â”‚ Balance: 0 USD   â”‚ â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚ Risk: High       â”‚ â”‚              â”‚
â”‚                                   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚              â”‚
â”‚                                   â”‚                      â”‚              â”‚
â”‚                                   â”‚ Diversity: 67/100    â”‚              â”‚
â”‚                                   â”‚ ğŸ’¡ Add to World!     â”‚              â”‚
â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ uses
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BRIDGE & CONTRACT LAYER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  lib/bridge/                      lib/contracts/                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ hooks.ts             â”‚        â”‚ multiChainVaults.ts   â”‚             â”‚
â”‚  â”‚ - useBridgeTransfer()â”‚        â”‚ - getAllVaults()      â”‚             â”‚
â”‚  â”‚ - useBridgeEstimates â”‚        â”‚ - getVaultInfo()      â”‚             â”‚
â”‚  â”‚ - useBridgeStatus()  â”‚        â”‚ - recommendChain()    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ - diversityScore()    â”‚             â”‚
â”‚           â†“                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â†“                          â”‚
â”‚  â”‚ bridge.service.ts    â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ - initBridgeKit()    â”‚        â”‚ wagmi.config.ts       â”‚             â”‚
â”‚  â”‚ - initTransfer()     â”‚        â”‚ - Arc Chain           â”‚             â”‚
â”‚  â”‚ - checkStatus()      â”‚        â”‚ - Celo Chain          â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ - World Chain         â”‚             â”‚
â”‚           â†“                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚
â”‚  â”‚ chains.config.ts     â”‚                                               â”‚
â”‚  â”‚ - SUPPORTED_CHAINS   â”‚                                               â”‚
â”‚  â”‚ - USDC_ADDRESSES     â”‚                                               â”‚
â”‚  â”‚ - VAULT_ADDRESSES    â”‚                                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ uses
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CIRCLE BRIDGE KIT (CCTP)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  @circle-fin/bridge-kit         @circle-fin/adapter-viem-v2             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚  â”‚ BridgeKit      â”‚ â†â”€â”€ Viem Adapter â”€â”€â†’ Viem/Wagmi                    â”‚
â”‚  â”‚                â”‚                                                      â”‚
â”‚  â”‚ .transfer({    â”‚                                                     â”‚
â”‚  â”‚   token,       â”‚                                                     â”‚
â”‚  â”‚   amount,      â”‚                                                     â”‚
â”‚  â”‚   recipient,   â”‚                                                     â”‚
â”‚  â”‚   source,      â”‚                                                     â”‚
â”‚  â”‚   destination  â”‚                                                     â”‚
â”‚  â”‚ })             â”‚                                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ executes
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BLOCKCHAIN LAYER                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  SOURCE CHAIN                    CCTP PROTOCOL                           â”‚
â”‚  (e.g., Arc)                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ 1. User approves â”‚           â”‚ 2. Circle burns  â”‚                   â”‚
â”‚  â”‚    USDC transfer â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚    USDC on sourceâ”‚                   â”‚
â”‚  â”‚                  â”‚           â”‚                  â”‚                   â”‚
â”‚  â”‚ 3. Tx confirmed  â”‚           â”‚ 4. Generates     â”‚                   â”‚
â”‚  â”‚    Hash: 0x...   â”‚           â”‚    attestation   â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                          â†“                               â”‚
â”‚  DESTINATION CHAIN               Circle Attestation                     â”‚
â”‚  (e.g., World)                   API validates                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â†“                               â”‚
â”‚  â”‚ 5. Circle mints  â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚    USDC on dest  â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ 6. Attestation   â”‚                   â”‚
â”‚  â”‚                  â”‚           â”‚    signed        â”‚                   â”‚
â”‚  â”‚ 7. User receives â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚  â”‚    Hash: 0x...   â”‚                                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                   â”‚
â”‚                                                                          â”‚
â”‚  SMART CONTRACTS                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ Arc: WolfBaseLendingVault (Low Risk)        â”‚                       â”‚
â”‚  â”‚ Address: 0x... (from env)                   â”‚                       â”‚
â”‚  â”‚ USDC: 0x3600000000000000000000000000000000  â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ Celo: WolfBaseStakingVault (Medium Risk)    â”‚                       â”‚
â”‚  â”‚ Address: 0x56C4c8dbb6E9598b90119686c402...  â”‚                       â”‚
â”‚  â”‚ USDC: 0x01C5C0122039549AD1493B8220cABEd...  â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ World: WolfBaseIndexVault (High Risk)       â”‚                       â”‚
â”‚  â”‚ Address: 0x56C4c8dbb6E9598b90119686c402...  â”‚                       â”‚
â”‚  â”‚ USDC: 0x66145f38cBAC35Ca6F1Dfb4914dF98...  â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“ status updates
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       STATUS TRACKING                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  Poll every 30 seconds:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Status: pending â†’ attested â†’ completed                   â”‚          â”‚
â”‚  â”‚                                                           â”‚          â”‚
â”‚  â”‚ Time elapsed: 2:34 / ~20:00                              â”‚          â”‚
â”‚  â”‚                                                           â”‚          â”‚
â”‚  â”‚ Tx Hash: 0x1234...5678                                   â”‚          â”‚
â”‚  â”‚ Attestation: 0xabcd...ef01                               â”‚          â”‚
â”‚  â”‚                                                           â”‚          â”‚
â”‚  â”‚ [View on Explorer]                                       â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Example

### Scenario: Bridge 100 USDC from Arc (Low Risk) â†’ World (High Risk)

```
Step 1: USER ACTION
â”œâ”€ User opens /bridge
â”œâ”€ Selects: Arc â†’ World
â”œâ”€ Enters: 100 USDC
â””â”€ Clicks: "Bridge USDC"

Step 2: FRONTEND PROCESSING
â”œâ”€ useBridgeTransfer() hook called
â”œâ”€ Validates inputs
â”œâ”€ Shows Circle PIN prompt
â””â”€ User enters PIN

Step 3: BRIDGE KIT EXECUTION
â”œâ”€ initiateBridgeTransfer() called
â”œâ”€ Creates BridgeKit instance
â”œâ”€ Calls bridgeKit.transfer({
â”‚    token: 0x3600...0000 (Arc USDC)
â”‚    amount: 100000000 (100 * 10^6)
â”‚    recipient: 0x... (user address)
â”‚    sourceChainId: "5042002"
â”‚    destinationChainId: "4801"
â”‚  })
â””â”€ Returns { transactionHash, attestationHash }

Step 4: SOURCE CHAIN (Arc)
â”œâ”€ USDC approval transaction
â”œâ”€ Burn transaction submitted
â”œâ”€ Transaction confirmed
â”œâ”€ Events emitted
â””â”€ Transaction hash: 0x1234...5678

Step 5: ATTESTATION (Circle)
â”œâ”€ Circle detects burn event
â”œâ”€ Validates transaction
â”œâ”€ Generates attestation signature
â”œâ”€ Attestation hash: 0xabcd...ef01
â””â”€ Time: ~5 minutes

Step 6: DESTINATION CHAIN (World)
â”œâ”€ Circle submits mint transaction
â”œâ”€ USDC minted to user address
â”œâ”€ Transaction confirmed
â”œâ”€ User balance updated: +100 USDC
â””â”€ Transaction hash: 0x9876...4321

Step 7: STATUS UPDATE
â”œâ”€ UI polls checkBridgeStatus()
â”œâ”€ Status: pending â†’ attested â†’ completed
â”œâ”€ Shows success message
â””â”€ User can now deposit to World vault
```

## File Structure

```
wolf-of-web3/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â””â”€â”€ bridge/
â”‚   â”‚       â””â”€â”€ page.tsx                    # Bridge page (/bridge)
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ BridgeInterface.tsx            # Main bridge UI
â”‚   â”‚   â”œâ”€â”€ MultiChainPortfolio.tsx        # Portfolio view
â”‚   â”‚   â””â”€â”€ BottomNav.tsx                  # Updated with bridge link
â”‚   â”‚
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ bridge/
â”‚       â”‚   â”œâ”€â”€ chains.config.ts           # Chain configurations
â”‚       â”‚   â”œâ”€â”€ bridge.service.ts          # Core bridge logic
â”‚       â”‚   â”œâ”€â”€ hooks.ts                   # React hooks
â”‚       â”‚   â””â”€â”€ index.ts                   # Exports
â”‚       â”‚
â”‚       â””â”€â”€ contracts/
â”‚           â”œâ”€â”€ multiChainVaults.ts        # Multi-chain utilities
â”‚           â”œâ”€â”€ wagmi.config.ts            # Updated for 3 chains
â”‚           â””â”€â”€ index.ts                   # Updated exports
â”‚
â”œâ”€â”€ BRIDGE_INTEGRATION.md                  # Technical documentation
â”œâ”€â”€ QUICKSTART_BRIDGE.md                   # Testing guide
â”œâ”€â”€ INTEGRATION_SUMMARY.md                 # Overview & summary
â””â”€â”€ BRIDGE_ARCHITECTURE.md                 # This file
```

## Component Relationships

```
BridgeInterface
    â”‚
    â”œâ”€â†’ useBridgeTransfer()
    â”‚       â”‚
    â”‚       â””â”€â†’ initiateBridgeTransfer()
    â”‚               â”‚
    â”‚               â””â”€â†’ BridgeKit.transfer()
    â”‚
    â”œâ”€â†’ useBridgeEstimates()
    â”‚       â”‚
    â”‚       â””â”€â†’ estimateTransferTime()
    â”‚       â””â”€â†’ estimateBridgeFee()
    â”‚
    â””â”€â†’ SUPPORTED_CHAINS (from chains.config)
    â””â”€â†’ getVaultInfo() (vault metadata)

MultiChainPortfolio
    â”‚
    â”œâ”€â†’ getAllVaults()
    â”œâ”€â†’ calculateDiversityScore()
    â”œâ”€â†’ recommendChain()
    â””â”€â†’ getRiskLevelConfig()
```

## State Management

```
BridgeInterface State:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ sourceChainId: number       â”‚
â”‚ destinationChainId: number  â”‚
â”‚ amount: string              â”‚
â”‚ recipientAddress: string    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useBridgeTransfer() State:  â”‚
â”‚ - status: BridgeTransfer... â”‚
â”‚ - isLoading: boolean        â”‚
â”‚ - error: Error | null       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BridgeTransferStatus:       â”‚
â”‚ - transactionHash?: string  â”‚
â”‚ - attestationHash?: string  â”‚
â”‚ - status: 'pending' | ...   â”‚
â”‚ - message?: string          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API Calls Flow

```
Frontend                Bridge Service           Circle CCTP
   â”‚                          â”‚                       â”‚
   â”‚â”€â”€initiateBridgeTransferâ”€â†’â”‚                       â”‚
   â”‚                          â”‚â”€â”€BridgeKit.transferâ”€â”€â†’â”‚
   â”‚                          â”‚                       â”‚
   â”‚                          â”‚â†â”€â”€txHash + attHashâ”€â”€â”€â”€â”‚
   â”‚â†â”€â”€â”€â”€resolve promiseâ”€â”€â”€â”€â”€â”€â”‚                       â”‚
   â”‚                          â”‚                       â”‚
   â”‚                                                  â”‚
   â”‚â”€â”€checkBridgeStatusâ”€â”€â”€â”€â”€â”€â†’â”‚                       â”‚
   â”‚                          â”‚â”€â”€GET /attestationsâ”€â”€â”€â†’â”‚
   â”‚                          â”‚                       â”‚
   â”‚                          â”‚â†â”€â”€status objectâ”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚â†â”€â”€â”€â”€status objectâ”€â”€â”€â”€â”€â”€â”€â”€â”‚                       â”‚
   â”‚                          â”‚                       â”‚
```

## Security Flow

```
User PIN Entry (Circle SDK)
    â†“
Local Key Derivation
    â†“
MPC Signing Ceremony
    â†“
Transaction Signed
    â†“
Broadcast to Blockchain
    â†“
Circle CCTP Validates
    â†“
Attestation Signed
    â†“
Destination Mint Authorized
```

---

This architecture ensures:

- âœ… Secure transfers (Circle CCTP)
- âœ… Type-safe code (TypeScript)
- âœ… Clean separation of concerns
- âœ… Easy testing and maintenance
- âœ… Extensible for future chains
